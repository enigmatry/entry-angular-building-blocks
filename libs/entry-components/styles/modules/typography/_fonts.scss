@use 'sass:string';
@use 'sass:map';
@use 'sass:math';

@mixin generate-font-face($font-config) {
	$font-path: map.get($font-config, path);
	$font-sources: map.get($font-config, sources);

	@each $font in $font-sources {
		$name: map.get($font, name);
		$style: map.get($font, style);
		$formats: map.get($font, formats);
  
		@each $format in $formats {
			$url: '#{$font-path}#{$name}/#{$name}-#{$style}.#{$format}';
  
			@font-face {
				font: {
					family: '#{$name}-#{$style}';
					style: '#{$style}';
				}
				src: url('#{$url}') format('#{$format}');
			}
		}
	}

	// Generate icomoon icons font face:
	@include entry-icomoon-icons($font-path);
}

// TODO: Hardcoded icons font, must be configurable but also to support default value!
@mixin entry-icomoon-icons($font-path) {
	@font-face {
		font-family: 'icomoon';
		font-style: normal;
		font-weight: normal;
		src: url($font-path + 'icomoon/fonts/icomoon.eot?s68r7n');
		src: url($font-path + 'icomoon/fonts/icomoon.eot?s68r7n#iefix') format('embedded-opentype'), 
			url($font-path + 'icomoon/fonts/icomoon.ttf?s68r7n') format('truetype'),
			url($font-path + 'icomoon/fonts//icomoon.woff?s68r7n') format('woff'),
			url($font-path + 'icomoon/fonts//icomoon.svg?s68r7n#icomoon') format('svg');
		font-display: block;
	}
	  
	[class ^= 'icon-'], [class *= ' icon-'] {
		/* use !important to prevent issues with browser extensions that change fonts */
		font-family: 'icomoon' !important;
	  
		/* Better Font Rendering =========== */
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		font-style: normal;
		font-variant: normal;
		font-weight: normal;
		line-height: 1;
		text-transform: none;
		speak: never;
	}
	  
	.icon-close::before {
		content: '\e900';
	}
	  
	.icon-menu:before {
		content: "\e9bd";
	}
}

// TODO: Hardcoded mixins (currently not ins use) that should be configurable!
/*
@mixin -font($family, $size) {
	font: {
		family: $family;
		size: $size;
	};
}
@mixin main-font($size: 14px) {
	@include -font('OpenSans-normal', $size);
}
@mixin main-bolded-font($size: 14px) {
	@include -font('OpenSans-Bold', $size);
}
@mixin title-font($size: 20px) {
	@include -font('Montserrat-bold', $size);
}
*/