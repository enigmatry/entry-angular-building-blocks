/* stylelint-disable selector-max-compound-selectors, scss/at-if-no-null */
@use 'sass:map';
@use '@angular/material' as mat;

$body-typography: map.get(mat.define-typography-config(), 'body-1');
$hero-typography: map.get(mat.define-typography-config(), 'headline-1');
$title-typography: map.get(mat.define-typography-config(), 'subtitle-1');
$caption-typography: map.get(mat.define-typography-config(), 'caption');

@mixin generate-from($theme) {
	$theming-fonts: map.get($theme, 'general', 'fonts');

	.enigmatry-redactor-content {
		.rx-editor, .rx-content, .rx-content p {
			@if $theming-fonts and map.has-key($theming-fonts, 'body') and map.get($theming-fonts, 'body', 'color') != null {
				color: map.get($theming-fonts, 'body', 'color');
			}
			@else {
				color: map.get($body-typography, 'color');
			}

			@if $theming-fonts and map.has-key($theming-fonts, 'body') and map.get($theming-fonts, 'body', 'family') != '' {
				font-family: map.get($theming-fonts, 'body', 'family');
			}
			@else {
				font-family: map.get($body-typography, 'font-family');
			}

			@if $theming-fonts and map.has-key($theming-fonts, 'body') and map.get($theming-fonts, 'body', 'size') != null {
				font-size: map.get($theming-fonts, 'body', 'size');
			}
			@else {
				font-size: map.get($body-typography, 'font-size');
			}

			@if $theming-fonts and map.has-key($theming-fonts, 'body') and map.get($theming-fonts, 'body', 'letter-spacing') != null {
				letter-spacing: map.get($theming-fonts, 'body', 'letter-spacing');
			}
			@else {
				letter-spacing: map.get($body-typography, 'letter-spacing');
			}

			/* stylelint-disable-next-line selector-max-combinators */
			h1, h2, h3, h4 {
				@if $theming-fonts and map.has-key($theming-fonts, 'hero-titles') and map.get($theming-fonts, 'hero-titles', 'family') != '' {
					font-family: map.get($theming-fonts, 'hero-titles', 'family');
				}
				@else {
					font-family: map.get($hero-typography, 'font-family');
				}

				@if $theming-fonts and map.has-key($theming-fonts, 'hero-titles') and map.get($theming-fonts, 'hero-titles', 'letter-spacing') != null {
					letter-spacing: map.get($theming-fonts, 'hero-titles', 'letter-spacing');
				}
				@else {
					letter-spacing: map.get($hero-typography, 'letter-spacing');
				}
			}

			/* stylelint-disable-next-line selector-max-combinators */
			h5, h6 {
				@if $theming-fonts and map.has-key($theming-fonts, 'titles') and map.get($theming-fonts, 'titles', 'family') != '' {
					font-family: map.get($theming-fonts, 'titles', 'family');
				}
				@else {
					font-family: map.get($title-typography, 'font-family');
				}

				@if $theming-fonts and map.has-key($theming-fonts, 'titles') and map.get($theming-fonts, 'titles', 'letter-spacing') != null {
					letter-spacing: map.get($theming-fonts, 'titles', 'letter-spacing');
				}
				@else {
					letter-spacing: map.get($title-typography, 'letter-spacing');
				}
			}
		}
	}
}